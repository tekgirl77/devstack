# Sample ``local.conf`` for user-configurable variables in ``stack.sh``

# NOTE: Copy this file to the root DevStack directory for it to work properly.

# ``local.conf`` is a user-maintained settings file that is sourced from ``stackrc``.
# This gives it the ability to override any variables set in ``stackrc``.
# Also, most of the settings in ``stack.sh`` are written to only be set if no
# value has already been set; this lets ``local.conf`` effectively override the
# default values.

# This is a collection of some of the settings we have found to be useful
# in our DevStack development environments. Additional settings are described
# in http://devstack.org/local.conf.html
# These should be considered as samples and are unsupported DevStack code.

# The ``localrc`` section replaces the old ``localrc`` configuration file.
# Note that if ``localrc`` is present it will be used in favor of this section.
[[local|localrc]]
#OFFLINE=True
RECLONE=True

#CINDER_BRANCH=stable/mitaka
#GLANCE_BRANCH=stable/mitaka
#HEAT_BRANCH=stable/mitaka
#HORIZON_BRANCH=stable/mitaka
#KEYSTONE_BRANCH=stable/mitaka
#KEYSTONECLIENT_BRANCH=stable/mitaka
#NEUTRON_BRANCH=stable/mitaka
#NOVA_BRANCH=stable/mitaka
#NOVACLIENT_BRANCH=stable/mitaka
#SWIFT_BRANCH=stable/mitaka

# Enable Designate (DNSaaS)
# designate-dashboard is installed by designate devstack plugin
enable_plugin designate https://git.openstack.org/openstack/designate 
#DESIGNATE_BACKEND_DRIVER=fake
#DESIGNATE_BRANCH=stable/mitaka
#DESIGNATEDASHBOARD_BRANCH=stable/mitaka

# Enable Heat (Orchestration)
enable_service heat h-api h-api-cfn h-api-cw h-eng
# Download images Heat can launch - URLs for any cloud image may be specified, 
# but fedora images from F20 contain the heat-cfntools package which is required for some heat functionality.
IMAGE_URL_SITE="https://download.fedoraproject.org/"
IMAGE_URL_PATH="/pub/fedora/linux/releases/23/Cloud/x86_64/Images/"
IMAGE_URL_FILE="Fedora-Cloud-Base-23-20151030.x86_64.qcow2"
IMAGE_URLS+=","$IMAGE_URL_SITE$IMAGE_URL_PATH$IMAGE_URL_FILE

#-----------------------------
# Common congigurations
#-----------------------------

HOST_IP=192.168.1.10
SERVICE_HOST=192.168.1.10
MYSQL_HOST=192.168.1.10
RABBIT_HOST=192.168.1.10
GLANCE_HOSTPORT=192.168.1.10:9292
ADMIN_PASSWORD=secret
DATABASE_PASSWORD=secret
RABBIT_PASSWORD=secret
SERVICE_PASSWORD=secret

ENABLED_SERVICES+=,key,rabbit,mysql
# Do not use Nova-Network
disable_service n-net
# Enable Neutron
ENABLED_SERVICES+=,q-svc,q-dhcp,q-meta,q-agt,q-l3

# Enable LBaaS v2
#ENABLED_SERVICES+=,q-lbaasv2
#ENABLED_SERVICES+=,octavia,o-cw,o-hk,o-hm,o-api
# Load the external LBaaS plugin
#enable_plugin neutron-lbaas https://git.openstack.org/openstack/neutron-lbaas 
#enable_plugin octavia https://git.openstack.org/openstack/octavia 


## Neutron options
Q_USE_SECGROUP=True
FLOATING_RANGE="192.168.1.0/24"
FIXED_RANGE="10.0.0.0/24"
Q_FLOATING_ALLOCATION_POOL=start=192.168.1.100,end=192.168.1.200
PUBLIC_NETWORK_GATEWAY="192.168.1.6"
PUBLIC_INTERFACE=eth0

# Open vSwitch provider networking configuration
Q_USE_PROVIDERNET_FOR_PUBLIC=True
OVS_PHYSICAL_BRIDGE=br-ex
PUBLIC_BRIDGE=br-ex
OVS_BRIDGE_MAPPINGS=public:br-ex

#Keystone Version 
ENABLE_IDENTITY_V2=False

# Using git versions of clients
# -----------------------------
# By default clients are installed from pip.  See LIBS_FROM_GIT in
# stackrc for details on getting clients from specific branches or
# revisions.  e.g.
# LIBS_FROM_GIT="python-ironicclient"
# IRONICCLIENT_BRANCH=refs/changes/44/2.../1
# Use latest python-openstackclient to address bug: https://bugs.launchpad.net/python-openstackclient/+bug/1447704
# https://git.openstack.org/cgit/openstack/python-openstackclient/commit/?id=b8432408e68855d7ce9269b7e681de3c5b733b09
LIBS_FROM_GIT="python-openstackclient"
#HORIZONAUTH_BRANCH=stable/mitaka

# Exercises
ACTIVE_TIMEOUT==300
BOOT_TIMEOUT=300


#-----------------------------
# Devstack configurations
#-----------------------------
LOGDIR=$DEST/logs
SCREEN_LOGDIR=$LOGDIR
SCREEN_HARDSTATUS="%{= rw} %H %{= wk} %L=%-w%{= bw}%30L> %n%f %t*%{= wk}%+Lw%-17< %-=%{= gk} %y/%m/%d %c"
LOGFILE=$LOGDIR/devstack.log
LOGDAYS=1
#LOG_COLOR=False
VERBOSE=True
ENABLE_DEBUG_LOG_LEVEL=True

#[[post-config|/etc/neutron/dhcp_agent.ini]]
#[DEFAULT]
#enable_isolated_metadata = True

